# Ответы на замечания по [Дипломной работе](https://github.com/Targitay99/ntw-diplom)
[Практическая работа](https://github.com/Targitay99/ntw-diplom/blob/main/Files/My_work_ver2.pkt)

**Вопрос 1:**

 При запуске почему то ничего с ASA на core-1 не анонсируется.)))
 у вас по скринам ситуация обратная ну и по конфигу вобщем-то тоже.
 
Ответ: 
 
 Проверил, маршруты анонсируются. 
 
.<img width="709" height="712" alt="restocom1" src="https://github.com/user-attachments/assets/cfc25eeb-4131-4e8a-9b3c-b673067bd93e" />


 **Вопрос 2:**
 
Также у вас почему-то у вас на core-1 настроены passive interfaces а на core-1 нет- поясните пожалуйста почему?
 
Ответ: 

 После настройки access list на коммутаторах ядра, я заметил, что внутренний web сервер стал работать гораздо медленнее.
Выяснилось, что маршрут между коммутаторами ядра для протокола OSPF через все интерфейсы имеет одинаковые значения 
и выбирается случайным образом. Если маршрут выбирался через интерфейсы 40 и 50-й сети, то коммутатор core2 отбрасывал
эти пакеты в соответствии со своими access list.\
 Я видел два способа решения проблемы:\
 1 - Назначить core2 основным коммутатором настройнами HRSP.\
 2 - Изменить настройки OSPF.\
Я решил выбрать вариант с настройкой протокола OSPF. И объявил на core2 интерфейсы VLAN200,VLAN300, VLAN400,
VLAN500 пассивными. После того как интерфейсы перестали анансироваться в OSPF сеть заработала стабильно. 

 На коммутаторе core1 я не смог создать ситуацию, при которой необходимо было бы объявить интерфейсы VLAN200,
 VLAN300, VLAN400, VLAN500 пассивными, поэтому эти настройки для core1 применены не были.
 

https://github.com/user-attachments/assets/c8d6d66e-a0b0-4325-ad8a-3972f76e7f05


 **Вопрос 3:**


 Никак не проработан вопрос с метриками маршрутов, от border1 и border2 одинаковые по метрикам маршруты как можно 
 решить этот вопрос?

Ответ: 
 Метрика маршрута — это числовое значение, которое определяет "стоимость" пути до сети. Чем метрика меньше, тем маршрут лучше.

 В нашем случае метрика может быть использована в трех случкаях:

 1 - Статические маршруты (на бордерах нет статической маршрутизации → метрика не используется).\
 2 - OSPF → метрика основана на скорости канала, может устанавливаться администратором

   Для туннельных интерфейсов CPT не позволяет установить метрику.\
   <img width="673" height="350" alt="restocom2nometospf" src="https://github.com/user-attachments/assets/6f6dc65a-d030-4aaa-bd4d-1d8b6a6fa146" />
   
 
   Для интерфейсов в area1 и area0 добавленны метрики.\
    <img width="1364" height="453" alt="restocom3" src="https://github.com/user-attachments/assets/432b69e0-c6f1-4e6a-9af7-7c9b0fd21976" />
    [border1](https://github.com/Targitay99/ntw-diplom/blob/main/config/border1.txt#L74-L81)\
[border2](https://github.com/Targitay99/ntw-diplom/blob/main/config/border2.txt#L74-L81).
  

 3 - BGP → использует сложные атрибуты (weight, Local Preference, MED, AS Path).\
    weight - используется внутри одного маршрутизатора, не подходит для нашей схемы.\
    Local Preference - нельзя настроить в ЦПТ при нашей схеме, отсутствует iBGP.\
    MED - нельзя настроить в ЦПТ, нет route-map.\
    <img width="831" height="165" alt="restocom4" src="https://github.com/user-attachments/assets/55e172ed-d0c7-4b24-af01-8a6a8a4560f6" />\
    AS Path - нельзя настроить в ЦПТ, нет route-map.

Так же можно настроить трансляцию маршрутов из BGP в OSPF и таким маршрутам задать метрики


https://github.com/user-attachments/assets/75aa2743-5083-4bcf-8e68-3dd6a0be1255


Но при перезапуске системы маршрутизация "слетит", для работы транслируемых маршрутов придется
отказаться от nssa no-summary, что приведет к некоректной работе CPT, так-что от таких 
маршрутов пришлось отказаться.
  





